<!-- app/templates/index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Healthcare AI Assistant</title>
    <!-- Link to our new external stylesheet -->
    <link rel="stylesheet" href="{{ url_for('static', path='/style.css') }}">
</head>
<body>

    <header class="header">
        <div class="container">
            <div class="header-content">
                <h1 class="header-title">Healthcare AI Assistant</h1>
                <span class="powered-by-badge">Powered by IBM Granite</span>
            </div>
        </div>
    </header>

    <main class="main-content container">
        <div class="card">
            <div class="card-body">
                <h2 class="card-title">Your Personal Health Companion</h2>

                <form action="/" method="post">
                    <div>
                        <label for="functionality">How can I assist you today?</label>
                        <select name="functionality" id="functionality" required>
                            <option value="" disabled selected>-- Please choose an option --</option>
                            <option value="symptoms_checker">Symptom Checker</option>
                            <option value="prescription_analysis">Prescription Analysis</option>
                            <option value="diet_recommendation">Diet Recommendation</option>
                        </select>
                    </div>

                    <div>
                        <label for="user_input">Provide your details below:</label>
                        <textarea name="user_input" id="user_input" required placeholder="For Symptom Checker, e.g., 'I have a headache, fever, and a sore throat.'
For Prescription Analysis, e.g., 'Take 1 tablet of Amoxicillin 500mg twice a day.'
For Diet Recommendation, e.g., 'I want to lose weight and have more energy.'">{{ user_input or '' }}</textarea>
                    </div>
                    
                    <div>
                        <button type="submit">Get AI Assistance</button>
                    </div>
                </form>
            </div>
        </div>

        <!-- This section will ONLY appear if the server sends back a response -->
        {% if response %}
        <div class="card response-container">
            <div class="card-body">
                <h2 class="response-title">AI Response:</h2>
                <div class="response-content">
                    <p>{{ response }}</p>
                </div>
            </div>
        </div>
        {% endif %}
    </main>

    <footer class="footer">
        <p>Healthcare AI Assistant using IBM Granite & Watsonx.ai</p>
        <p>This is for educational purposes only. Always consult a healthcare professional.</p>
    </footer>

</body>
</html>
